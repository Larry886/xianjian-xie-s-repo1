<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="A layout example that shows off a responsive photo gallery.">
  <title>DR.VIDEO GAMES &ndash; Layout Examples &ndash; Pure</title>
  <link rel="stylesheet" href="/static/pure-min.css">
  <link rel="stylesheet" href="/static/grids-responsive-min.css">
  <link rel="stylesheet" href="/static/xxj_styles.css">

  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <script src="//cdn.quilljs.com/1.3.6/quill.min.js"></script>


  <link href="static/videos.css" rel="stylesheet" />
  <script src="static/mcVideoPlugin.js" type="text/javascript"></script>
  <script src="static/js-image-slider.js" type="text/javascript"></script>



  <script type="text/javascript" src="/static/js/jquery-1.8.3.min.js"></script>
  <link href="/static/style.css" rel="stylesheet" type="text/css" />
  <link href="/static/index.css" rel="stylesheet" type="text/css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="static/autocomplete.js" ></script>

</head>
<body>

  {% if signin == True %}
  <div class="header">
  	<div class="hdDk">
  		<h2 class="logo"><a href="{{ url_for("home") }}"><img src="/static/images/logo.png"></a></h2>
  		<a href="{{ url_for("logout") }}" class="signA"><i><img src={{avatar}}></i><span>Log out</span></a>
  	</div>
  </div>

  {% else %}

  <div class="header">
  	<div class="hdDk">
  		<h2 class="logo"><a href="{{ url_for("home") }}"><img src="/static/images/logo.png"></a></h2>
  		<a href="{{ url_for("login") }}" class="signA"><i><img src="/static/images/sign-icon.png"></i><span>Sign in</span></a>
  	</div>
  </div>

  {% endif %}






<div class="container-s">

  <div class=left-box-s>
    <h1>{{game[1]}}</h1>
    <div class="slideshow-container">

      {% for picture in pictures %}

      <div class="mySlides fade">
        <div class="numbertext">{{loop.index}} / {{pictures|length}}</div>
        <img src={{picture}} style="width:100%">

      </div>

      {% endfor %}

      <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
      <a class="next" onclick="plusSlides(1)">&#10095;</a>


      <br>

      <div style="text-align:center">
        <span class="dot" onclick="currentSlide(1)"></span>
        <span class="dot" onclick="currentSlide(2)"></span>
        <span class="dot" onclick="currentSlide(3)"></span>
      </div>
    </div>
  </div>
  <div class="right-box-s">
    <!--
    <div>
      <img src="{{game[9]}}" style="width:60%">
    </div>
    -->
    <p>{{game[8]}}</p>
    <br>
    <p>Platform: {{game[5]}}</p>
    <br>
    <p>Popularity: {{game[3]}}</p>
    <br>
    <div class="container">
      <p>rating:<span class="stars">{{game[4]}}</span></p>
    </div>

  </div>
  <div class="rright-box-s">

  </div>
</div>


<div class="text-box pure-u-1 pure-u-md-1-1 pure-u-lg-1-1">
  <div class="l-box">
    <h1 class="text-box-head">User Reviews</h1>
    <div class="review-area">
    {% for review in reviews %}
    <div class="review-box">
      <div class="left-box">

        <div class="review-title">

              <h3>{{ review[4] }}</h3>

        </div>

        <div class="review-content">
          <img>{{review[5]|safe}}</img>
        </div>

        <div class="reviewer">
          <i><img src={{review[10]}}></i>
          <p>{{ review[9] }}</p>
        </div>

      </div>
      <div class="right-box">
        <div class="timestamp">
          <p>{{ review[3] }}</p>
        </div>
        <div class="rating">
          <div class="container">
            <p>rating:<span class="stars">{{review[6]}}</span></p>
          </div>
        </div>
      </div><br>
    </div>
    {% endfor %}
  </div>
  </div>
</div>




<div class="text-box pure-u-1 pure-u-md-1-1 pure-u-lg-1-1">
  <div class="l-box">



        <div class="tag-box">
          <form  action="{{ url_for("edit_person", id=game[0]) }}" method="POST">
          <label for="tag">Your tag  &nbsp&nbsp</label>
          <input type="text" id="mtag" name="mtag" placeholder="Adding tag">
          <button id="addtag" type="submit">+</button>
          </form>
        </div>
        <br>
        <div class="tag-box">
          {% for tag in tags %}

          <div class="tag1">
          <form  action="{{ url_for("edit_person", id=game[0]) }}" method="POST">
          <div id="ck-button">
            <label>
               <input type="checkbox" id="ptag" name="ptag" value="{{tag[4]}}"><span>{{tag[2]}}#{{tag[4]}}</span>
            </label>
         </div>
         <button id="addtag" type="submit">+</button>
          </form>
          </div>

          {% endfor %}



        </div>


    <form  action="{{ url_for("edit_person", id=game[0]) }}" method="POST">
    <div class="comment-box">

      <div>
        <label for="rating">Your review title</label>
        <input type="text" id="title" name="title" placeholder="Adding title"  required="required" pattern=".{3,}" required title="3 characters minimum">
      </div>
      <br>
      <div>
        <label for="rating">Your rating score</label>
        <input type="text" id="rating" name="rating" placeholder="From 0 to 5" required="required" pattern=".{1,}" required title="1 number minimum">
      </div>
      <br>
      <div id="editor"></div>
      <input style="display:none;" type="text" id="description" name="description">
      <button id="updateDescription" type="submit" class="pure-button pure-button-primary">Update Description</button>

    </div>
    </form>
  </div>
</div>


<!-- script for turn on/off review -->


  {% if signin == True %}
  <script type="text/javascript">
   document.getElementById("updateDescription").disabled = false;
   </script>
  {% else %}
  <script type="text/javascript">
   document.getElementById("updateDescription").disabled = true;
   </script>
  {% endif %}



<script>
  var toolbarOptions = [
['bold', 'italic', 'underline', 'strike'],        // toggled buttons
['blockquote', 'code-block'],
['image'],

[{ 'header': 1 }, { 'header': 2 }],               // custom button values
[{ 'list': 'ordered'}, { 'list': 'bullet' }],
[{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript
[{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent
[{ 'direction': 'rtl' }],                         // text direction

[{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown
[{ 'header': [1, 2, 3, 4, 5, 6, false] }],

[{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme
[{ 'font': [] }],
[{ 'align': [] }],

['clean']                                         // remove formatting button
];

var quill = new Quill('#editor', {
modules: {
toolbar: toolbarOptions
},
theme: 'snow'
});
document.querySelector("#updateDescription").addEventListener("click", (e) => {
document.querySelector("#description").value = quill.root.innerHTML
});




</script>





  <script>
  var slideIndex = 1;
  showSlides(slideIndex);

  function plusSlides(n) {
    showSlides(slideIndex += n);
  }

  function currentSlide(n) {
    showSlides(slideIndex = n);
  }

  function showSlides(n) {
    var i;
    var slides = document.getElementsByClassName("mySlides");
    var dots = document.getElementsByClassName("dot");
    if (n > slides.length) {slideIndex = 1}
    if (n < 1) {slideIndex = slides.length}
    for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
    }
    for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex-1].style.display = "block";
    dots[slideIndex-1].className += " active";
  }
  </script>

  <script>
    // Set this to the width of one star.
var starWidth = 20;

$.fn.stars = function() {
  return $(this).each(function() {
    $(this).html($('<span />').width(Math.max(0, (Math.min(5, parseFloat($(this).html())))) * starWidth));
  });
}
$(document).ready(function() {
  $('span.stars').stars();
});
  </script>

  </body>

</html>
